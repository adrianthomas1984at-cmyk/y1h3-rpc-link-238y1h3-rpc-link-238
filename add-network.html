<!doctype html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<body style="font:16px system-ui; padding:20px; max-width:720px; margin:auto;">
<h2>Add Ethereum Mainnet</h2>
<p>Tap a button below if this page doesn’t auto-prompt.</p>

<button id="mm" style="padding:12px 16px; border-radius:10px; margin-right:8px;">
Open in MetaMask (mobile)
</button>
<button id="tw" style="padding:12px 16px; border-radius:10px;">
Open in Trust Wallet (mobile)
</button>

<pre id="status" style="white-space:pre-wrap; background:#f6f6f6; padding:12px; border-radius:10px; margin-top:16px;"></pre>

<script>
  // ====== Ethereum Mainnet ======
  const params = [{
    chainId: '0x1',
    chainName: 'Ethereum Mainnet',
    rpcUrls: ['https://virtual.mainnet.eu.rpc.tenderly.co/37feb082-9f44-4181-995b-c07680be2661'],  // <-- replace with your preferred RPC
    nativeCurrency: { name: 'Ether', symbol: 'ETH', decimals: 18 },
    blockExplorerUrls: ['https://etherscan.io']
  }];
  // ==============================

  const dappUrl = encodeURIComponent(window.location.href);
  document.getElementById('mm').onclick = () => {
    window.location.href = `https://link.metamask.io/dapp/${dappUrl}`;
  };
  document.getElementById('tw').onclick = () => {
    window.location.href = `https://link.trustwallet.com/open_url?coin_id=60&url=${dappUrl}`;
  };

  const log = (m)=>{ document.getElementById('status').textContent = m; };

  const pickProvider = () => {
    const eth = window.ethereum;
    if (!eth) return null;
    const list = eth.providers || [eth];
    return list.find(p => (p && (p.isMetaMask || p.isTrust || p.isTrustWallet))) || list[0];
  };

  (async () => {
    const provider = pickProvider();
    if (!provider) { log('No wallet detected. Use the buttons above.'); return; }
    try {
      await provider.request({ method: 'wallet_addEthereumChain', params });
      await provider.request({ method: 'wallet_switchEthereumChain', params: [{ chainId: params[0].chainId }] });
      log('✅ Ethereum Mainnet added & switched.');
    } catch (e) {
      log('⚠️ ' + (e && e.message ? e.message : e));
    }
  })();
</script>
</body>
</html>
